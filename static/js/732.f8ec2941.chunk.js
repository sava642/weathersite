"use strict";(self.webpackChunkweathersite=self.webpackChunkweathersite||[]).push([[732],{667:(n,t,e)=>{e.r(t),e.d(t,{default:()=>R});var i=e(43),s=e(72),o=e(419),r=e(23),c=e(36),l=e(318),d=e(3),a=(e(433),e(228)),p=e(579);const h=()=>{const n=new a.Icon({iconUrl:"https://cdn4.iconfinder.com/data/icons/small-n-flat/24/map-marker-1024.png",iconSize:[24,24]}),{latitude:t,longitude:e}=(0,d.d4)((n=>n.location)),s=(0,d.d4)((n=>n.cities.currentCity)),[h,x]=(0,i.useState)([t||0,e||0]);return(0,i.useEffect)((()=>{const n=setTimeout((()=>{null!==t&&null!==e&&x([t,e])}),2e3);return()=>clearTimeout(n)}),[t,e]),(0,i.useEffect)((()=>{s&&x([parseFloat(s.lat),parseFloat(s.lng)])}),[s]),(0,p.jsx)("div",{className:"custom-map-container",children:(0,p.jsxs)(o.W,{center:h,zoom:2,style:{width:"100%",height:"100%"},children:[(0,p.jsx)(r.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,p.jsx)(c.p,{position:h,icon:n,draggable:!0,eventHandlers:{dragend:n=>{const t=n.target.getLatLng();console.log([t.lat,t.lng])}},children:(0,p.jsx)(l.z,{children:"Your location"})})]})})};var x,u=e(528),g=e(801),m=e(197);const f=m.Ay.div(x||(x=(0,u.A)(["\nmargin: 40px;\n  border: 12px solid pink;\n  border-top: 12px deeppink solid;\n  border-radius: 50%;\n  height: 60px;\n  width: 60px;\n  animation: spin 2s linear infinite;\n  /* \n  border: 12px solid #f3f3f3; \n  border-top: 12px solid #3498db;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 2s linear infinite; */\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])));var j;const v=m.Ay.div(j||(j=(0,u.A)(["\n  position: absolute;\n  z-index: 9999;\n  top: 50%;\n  right: 30px;\n  transform: translateY(-80%);\n  ul {\n\tlist-style-type: none;\n\tpadding: 0;\n\tmargin: 0;\n }\n\n li {\n\ttext-decoration: none;\n\tcolor: #333;\n"]))),w=()=>{const n=(0,d.d4)(g.X9),{name:t,temperature:e,feelsLike:s,humidity:o,pressure:r,windSpeed:c}=(0,i.useMemo)((()=>n),[n]),l=n=>Math.round(n-273.15);return t&&e&&s&&o&&r&&c?(0,p.jsxs)(v,{children:[(0,p.jsx)("p",{children:t}),(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{children:["Temperature: ",l(e)," \xb0C"]}),(0,p.jsxs)("li",{children:["Feels like: ",l(s)," \xb0C"]}),(0,p.jsxs)("li",{children:["Humidity: ",o,"%"]}),(0,p.jsxs)("li",{children:["Pressure: ",r," hPa"]}),(0,p.jsxs)("li",{children:["Wind speed: ",c," m/s"]})]})]}):(0,p.jsx)(f,{})};var b,y=e(720);const A=(0,m.Ay)(y.bTh)(b||(b=(0,u.A)(["\n\tposition: absolute;\n\ttop: 20px;\n\tright: 20px;\n\tz-index: 9999;\n\tcolor: yellow;\n\tfont-size: 48px;\n\tcursor: pointer;\n"]))),k=n=>{let{onClick:t}=n;return(0,p.jsx)(A,{onClick:t})};var C=e(633),z=e(825);const E=n=>{let{onClick:t}=n;return(0,p.jsx)(z.XfH,{color:"red",size:24,onClick:t})};var L,S,F;const T=m.Ay.div(L||(L=(0,u.A)(["\n  border-radius: 10px;\n  background-color: #00ccff;\n  z-index: 99999;\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n"]))),H=m.Ay.div(S||(S=(0,u.A)(["\n  position: absolute;\n  right: 20px;\n  bottom: 140px;\n  z-index: 99999;\n  width: 40%;\n  height: 20%;\n"]))),M=m.Ay.div(F||(F=(0,u.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  border-bottom: 1px solid #ccc;\n  cursor: pointer;\n"]))),P=()=>{const n=(0,d.wA)(),t=(0,d.d4)((n=>n.favoritescities.favoritescities));return(0,p.jsxs)(H,{children:[(0,p.jsx)("p",{children:"Favorites"}),(0,p.jsx)(T,{children:t.map(((t,e)=>(0,p.jsxs)(M,{onClick:()=>{return n=t,void console.log(n);var n},children:[(0,p.jsx)("span",{children:t.name}),(0,p.jsx)(E,{onClick:()=>{return e=t.name,void n((0,C.Ch)({cityName:e}));var e}})]},e)))})]})};var N,O,W,X=e(216);const Y=m.Ay.div(N||(N=(0,u.A)(["\n\tborder-radius: 10px;\n\tbackground-color: #00ccff;\n\tz-index: 99999;\n\toverflow: auto;\n\twidth: 100%;\n\theight: 100%;\n"]))),Z=m.Ay.div(O||(O=(0,u.A)(["\n\tposition: absolute;\n\tleft: 20px;\n\tbottom: 140px;\n\tz-index: 99999;\n\twidth: 40%;\n\theight: 20%;\n"]))),I=m.Ay.div(W||(W=(0,u.A)(["\n\tpadding: 10px;\n\tborder-bottom: 1px solid #ccc;\n\tcursor: pointer;\n"]))),J=()=>{const n=(0,d.wA)(),t=((0,X.Zp)(),(0,d.d4)((n=>n.cities.selectedCities)));(0,i.useEffect)((()=>(t.forEach((n=>{e(n)})),window.addEventListener("popstate",o),()=>{window.removeEventListener("popstate",o)})),[t]);const e=n=>{const e={cities:[...t,n]};window.history.pushState(e,"","")},o=n=>{const t=n.state;t&&t.cities&&console.log("Popstate event - cities:",t.cities)};return console.log(window.history),(0,p.jsxs)(Z,{children:[(0,p.jsx)("p",{children:"Resent results"}),(0,p.jsx)(Y,{children:t.map(((t,e)=>(0,p.jsx)(I,{onClick:()=>{return e=t,console.log(e),void n((0,s.Ob)({city:e}));var e},children:t.name},e)))})]})},R=()=>{const n=(0,d.wA)(),t=(0,d.d4)((n=>n.cities.currentCity));return(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(h,{}),(0,p.jsx)(s.cc,{}),(0,p.jsx)(J,{}),(0,p.jsx)(P,{}),(0,p.jsx)(k,{onClick:()=>{null!==t&&n((0,C.JZ)({city:t}))}}),(0,p.jsx)(w,{})]})}}}]);
//# sourceMappingURL=732.f8ec2941.chunk.js.map